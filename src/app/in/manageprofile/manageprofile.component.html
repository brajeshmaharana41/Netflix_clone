<div class="bgheight">
  <div class="bg">
    <div fxLayoutAlign="center center" class="h100">
      <div class="bord pt-5">
        <div fxLayout="column" fxLayoutAlign="center center" fxLayoutGap="gappx">
          <div class="pb-3">
            <span class="title">Manage Profiles</span>
          </div>
          <div fxLayoutAlign="center center" class="pb-5">
            <div class="profile_bord">
              <div fxLayout="row wrap">
                <div fxFlex.xs="50" fxFlex.sm="50" fxFlex.md="20" fxFlex.lg="20" fxFlex.xl="20"
                  fxLayoutAlign="center center" *ngFor="let member of members" class="p-3">
                  <div class="user1">
                    <ng-container *ngIf="!member?.kids">
                      <img src="assets/face1.png" alt="" class="bgimg">
                      <span class="name">{{member?.name}}</span>
                    </ng-container>
                    <ng-container *ngIf="member?.kids">
                      <img src="assets/child.png" alt="" class="bgimg">
                      <span class="name ">{{member?.name}}</span>
                    </ng-container>
                    <div class="edit" (click)="openModal(member)">
                      <mat-icon>edit</mat-icon>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="clearfix">
            <button mat-button class="btn_addprofile" (click)="done()">Done</button>
          </div>
        </div>
      </div>
    </div>
    <div *ngIf="modal" class="edit-profile">
      <div fxLayoutAlign="center center" class="h100">
        <form [formGroup]="form" *ngIf="form" (ngSubmit)="submit()">
          <div class="addborder">
            <div fxLayout="column" fxLayoutAlign="start start" fxLayoutGap="gappx">
              <div class="pb-3">
                <span class="profiletitle">Edit Profile</span>
              </div>
              <!-- <div class="pb-3">
                <span class="profilesubtitle">Add a profile for another person watching Netflix.</span>
              </div> -->
            </div>
            <div fxLayout="row" fxLayoutAlign="space-around center" class="bord">
              <div class="addprofilImg">
                <img src="assets/face2.png" alt="" width="120" class="addprofilImg">
              </div>
              <div>
                <div class="input_bg">
                  <mat-form-field class="example-full-width" floatLabel='never'>
                    <mat-label style="color: #ababab;">Name</mat-label>
                    <input matInput formControlName="name" class="mb2" />
                    <mat-error *ngIf="
                                form.get('name').errors &&
                                form.get('name').hasError('required')
                                ">Please enter a name</mat-error>
                  </mat-form-field>
                </div>
              </div>
              <div>
                <input type="checkbox" id="vehicle1" name="vehicle1" value="Bike" class="childcheck"
                  formControlName="child" [(ngModel)]="isChild">
                <label for="vehicle1" class="childname">Child?</label>
              </div>
            </div>
            <div fxLayout="row" fxLayoutAlign="start center">
              <div class="p-2">
                <button mat-button class="btn_addprofile" [type]="submit">Save</button>
              </div>
              <div class="p-2">
                <button mat-button class="btn_addprofile" (click)="cancel()">Cancel</button>
              </div>
              <div class="p-2">
                <button mat-button class="btn_addprofile" (click)="delete()">Delete Profile</button>
              </div>
            </div>
            <div class="pt-1 pb-1" *ngIf="errorMsg">
              <div class="error_message">
                <span class="error_font"> {{ errorMsg }}</span>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
